{"ast":null,"code":"import React,{useState,useEffect}from'react';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faPaperPlane}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function After(_ref){let{name,id,socket}=_ref;const[messages,setMessages]=useState([]);const[inputValue,setInputValue]=useState('');useEffect(()=>{socket.on('new-user-joined',data=>{appendMessage(data.message,'left');});socket.on('message-received',data=>{appendMessage(data.message,'left');});return()=>{socket.off('new-user-joined');socket.off('message-received');};},[socket]);function appendMessage(msg,position){setMessages(prevMessages=>[...prevMessages,{message:msg,position:position}]);}function sendMessage(){if(inputValue.trim()!==''){const message=inputValue.trim();setMessages(prevMessages=>[...prevMessages,{message:\"You: \".concat(message),position:'right'}]);socket.emit('message',message);setInputValue('');}}function handleKeyDown(e){if(e.key==='Enter'){e.preventDefault();sendMessage();}}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"after\",children:messages.map((msg,index)=>/*#__PURE__*/_jsx(\"div\",{className:\"message \".concat(msg.position),children:/*#__PURE__*/_jsx(\"h2\",{children:msg.message})},index))}),/*#__PURE__*/_jsxs(\"div\",{className:\"message-box\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"input-2\",placeholder:\"Enter your message\",value:inputValue,onChange:e=>setInputValue(e.target.value),onKeyDown:handleKeyDown}),/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faPaperPlane,onClick:sendMessage})]})]});}","map":{"version":3,"names":["React","useState","useEffect","FontAwesomeIcon","faPaperPlane","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","After","_ref","name","id","socket","messages","setMessages","inputValue","setInputValue","on","data","appendMessage","message","off","msg","position","prevMessages","sendMessage","trim","concat","emit","handleKeyDown","e","key","preventDefault","children","className","map","index","type","placeholder","value","onChange","target","onKeyDown","icon","onClick"],"sources":["D:/Chat_app/my-react-app/src/after.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPaperPlane } from '@fortawesome/free-solid-svg-icons';\r\n\r\nexport default function After({ name, id, socket }) {\r\n  const [messages, setMessages] = useState([]);\r\n  const [inputValue, setInputValue] = useState('');\r\n\r\n  useEffect(() => {\r\n    socket.on('new-user-joined', (data) => {\r\n      appendMessage(data.message, 'left');\r\n    });\r\n    socket.on('message-received', (data) => {\r\n      appendMessage(data.message, 'left');\r\n    });\r\n\r\n    return () => {\r\n      socket.off('new-user-joined');\r\n      socket.off('message-received');\r\n    };\r\n  }, [socket]);\r\n\r\n  function appendMessage(msg, position) {\r\n    setMessages((prevMessages) => [...prevMessages, { message: msg, position: position }]);\r\n  }\r\n\r\n  function sendMessage() {\r\n    if (inputValue.trim() !== '') {\r\n      const message = inputValue.trim();\r\n      setMessages((prevMessages) => [...prevMessages, { message: `You: ${message}`, position: 'right' }]);\r\n      socket.emit('message', message);\r\n      setInputValue('');\r\n    }\r\n  }\r\n\r\n  function handleKeyDown(e) {\r\n    if (e.key === 'Enter') {\r\n      e.preventDefault();\r\n      sendMessage();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"after\">\r\n        {messages.map((msg, index) => (\r\n          <div className={`message ${msg.position}`} key={index}>\r\n            <h2>{msg.message}</h2>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"message-box\">\r\n        <input\r\n          type=\"text\"\r\n          className=\"input-2\"\r\n          placeholder=\"Enter your message\"\r\n          value={inputValue}\r\n          onChange={(e) => setInputValue(e.target.value)}\r\n          onKeyDown={handleKeyDown}\r\n        />\r\n        <FontAwesomeIcon icon={faPaperPlane} onClick={sendMessage} />\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}